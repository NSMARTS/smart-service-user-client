<div>
  <h1 *ngIf="contractMod()==='detail'" mat-dialog-title>Contract Details</h1>
  <h1 *ngIf="contractMod()==='sign' && !data.rejectFormMod" mat-dialog-title>Contract Sign</h1>
  <h1 *ngIf="contractMod()==='sign' && data.rejectFormMod" mat-dialog-title>Contract Reject</h1>


  <div mat-dialog-content>
    <table class="modal-table">
      <colgroup>
        <col style="width:120px">
        <col style="width:300px">
      </colgroup>
      <tbody>
        <tr>
          <th>
            <b>Upload Date</b>
          </th>
          <td>
            {{data.createdAt | date}}
          </td>
        </tr>
        <tr>
          <th>
            <b>Title</b>
          </th>
          <td>
            {{data?.title}}
          </td>
        </tr>
        <tr>
          <th>
            <b>description</b>
          </th>
          <td>
            {{data.description}}
          </td>
        </tr>
        <tr>
          <th>
            <b>Writer</b>
          </th>
          <td>
            {{data.writer?.email}}
          </td>
        </tr>
        <tr>
          <th>
            <b>Employee</b>
          </th>
          <td>
            {{data.employee.email}} ({{data.employee.username}})
          </td>
        </tr>
        <tr>
          <th>
            <b>Status</b>
          </th>
          <td>
            {{data.employeeStatus}}
          </td>
        </tr>
        <!-- employee sign -->
        <tr [hidden]="data.rejectFormMod || data.employeeStatus === 'rejected' ">
          <th>
            <b> Employee Sign </b>
          </th>
          <div #canvasContainer class="canvas-container">
            <div class="canvasTeacher">
              <canvas #employeeCanvas></canvas>
            </div>
            <div class="cover" id="canvas">
              <canvas #employeeCanvasCover></canvas>
            </div>
          </div>
        </tr>

        <!-- employee reject -->
        <tr *ngIf="data.rejectFormMod || data.employeeStatus==='rejected'">
          <th>
            <b>Rejected Reason</b>
          </th>
          <td>
            <mat-form-field *ngIf="data.rejectFormMod" style="width: 100%;">
              <mat-label>Reason</mat-label>
              <textarea matInput [formControl]="rejectedReason" rows="6"></textarea>
            </mat-form-field>
            {{ data.employeeStatus==='rejected' ? data.employeeRejectReason : null}}
          </td>
        </tr>

        <!-- manager -->
        <tr *ngIf="!data.rejectFormMod">
          <th>
            <b>Manager</b>
          </th>
          <td>
            {{data.manager ? data.manager.email + ' (' + data.manager.username + ')' : '-'}}
          </td>
        </tr>
        <!-- manager status -->
        <tr *ngIf="!data.rejectFormMod">
          <th>
            <b>Status</b>
          </th>
          <td>
            {{data.managerStatus}}
          </td>
        </tr>
        <!-- manager sign -->
        <tr [hidden]="data.rejectFormMod || data.managerStatus !== 'signed' ">
          <th>
            <b> Manager Sign</b>
          </th>
          <div #canvasContainer class="canvas-container">
            <div class="canvasTeacher">
              <canvas #managerCanvas></canvas>
            </div>
            <div class="cover" id="canvas">
              <canvas #managerCanvasCover></canvas>
            </div>
          </div>
        </tr>
        <!-- manager reject reason -->
        <tr *ngIf="data.managerStatus==='rejected' && !data.rejectFormMod">
          <th>
            <b>Rejected Reason</b>
          </th>
          <td>
            {{data.managerRejectReason}}
          </td>

        </tr>

      </tbody>
    </table>
  </div>
  <div mat-dialog-actions style="display: flex; justify-content: space-between;">
    <button mat-flat-button mat-dialog-close>Close</button>
    <div>
      <button *ngIf="contractMod() === 'sign' && !data.rejectFormMod " color="primary" mat-flat-button
        (click)="openConfirmDialog()">Sign</button>

      <button *ngIf="contractMod() === 'sign' && data.rejectFormMod" color="warn" mat-flat-button
        (click)="openRejectContractDialog()">Reject </button>
    </div>

  </div>
</div>